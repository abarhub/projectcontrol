<div class="card">

  <div class="card-body">

    <table class="table">
      <tbody>

        @if (moduleEnfant()) {
          <p class="card-title">
            Module {{ projet()?.nom }}
          </p>
        }
      <tr>
        <th>Nom</th>
        <td>{{ projet()?.nom }}</td>
      </tr>
        @if (projet()?.description) {
          <tr>
            <th>Description</th>
            <td>{{ projet()?.description }}</td>
          </tr>
        }
        @if (projet()?.parent) {
          <tr>
            <th>Parent</th>
            <td>
              {{ projet()?.parent?.groupId }}:{{ projet()?.parent?.artefactId }}:{{ projet()?.parent?.version }}
            </td>
          </tr>
        }
        @if (projet()?.artifact) {
          <tr>
            <th>Artifact</th>
            <td>
              {{ projet()?.artifact?.groupId }}:{{ projet()?.artifact?.artefactId }}:{{ projet()?.artifact?.version }}
            </td>
          </tr>
        }
      <tr>
        <th>Répertoire</th>
        <td>{{ projet()?.repertoire }}</td>
      </tr>
      <tr>
        <th>Modules</th>
        <td>
          @if (projet()?.modules) {
            @for (module of projet()?.modules; track module) {
              <span class="badge rounded-pill text-bg-primary">{{ module }}</span>
            }
          }
        </td>
      </tr>
      <tr>
        <th>Modules détails</th>
        <td>
          @if (projet()?.detailModules) {

            <table class="table">
              <tbody>

                @for (property of projet()?.detailModules | keyvalue; track property.key) {
                  <tr>
                    <th>{{ property.key }}</th>
                    <td>{{ property.value }}</td>
                  </tr>

                }

              </tbody>
            </table>

          }
        </td>
      </tr>
        @if (projet()?.properties) {
          <tr>
            <th>Propriétés</th>
            <td>


              <table class="table">
                <tbody>

                  @for (property of projet()?.properties | keyvalue; track property.key) {
                    <tr>
                      <th>{{ property.key }}</th>
                      <td>{{ property.value }}</td>
                    </tr>

                  }

                </tbody>
              </table>

            </td>
          </tr>
        }
        @if (projet()?.dependencies) {
          <tr>
            <th>Dépendances</th>
            <td>
              <table class="table">
                <tbody>
                  @for (dependance of projet()?.dependencies; track dependance.id) {
                    <tr>
                      <td>{{ dependance.groupId }} : {{ dependance.artefactId }} : {{ dependance.version }}</td>
                    </tr>
                  }
                </tbody>
              </table>
            </td>
          </tr>
        }

        @if (projet()?.infoNode) {

          <tr>
            <th>Nom module Node JS</th>
            <td>{{ projet()?.infoNode?.nom }}</td>
          </tr>
          <tr>
            <th>Version</th>
            <td>{{ projet()?.infoNode?.version }}</td>
          </tr>
          <tr>
            <th>Script</th>
            <td>
              @if (projet()?.infoNode?.script) {
                <table class="table">
                  <tbody>
                    @for (property of projet()?.infoNode?.script | keyvalue; track property.key) {
                      <tr>
                        <th>{{ property.key }}</th>
                        <td>{{ property.value }}</td>
                      </tr>
                    }
                  </tbody>
                </table>

              }
            </td>
          </tr>
          @if (projet()?.infoNode?.dependencies) {
            <tr>
              <th>dependances</th>
              <td>
                <table class="table">
                  <tbody>
                    @for (property of projet()?.infoNode?.dependencies | keyvalue; track property.key) {
                      <tr>
                        <th>{{ property.key }}</th>
                        <td>{{ property.value }}</td>
                      </tr>
                    }
                  </tbody>
                </table>
              </td>
            </tr>
          }
          @if (projet()?.infoNode?.devDependencies) {
            <tr>
              <th>dependances dev</th>
              <td>
                <table class="table">
                  <tbody>
                    @for (property of projet()?.infoNode?.devDependencies | keyvalue; track property.key) {
                      <tr>
                        <th>{{ property.key }}</th>
                        <td>{{ property.value }}</td>
                      </tr>
                    }
                  </tbody>
                </table>
              </td>
            </tr>
          }

        }

        @if (!moduleEnfant()) {
          <tr>
            <th>Git</th>
            <td>
              @if (projet()?.infoGit) {

                <table class="table">
                  <tbody>
                  <tr>
                    <th>Date du commit</th>
                    <td>{{ projet()?.infoGit?.date | date: 'dd/MM/yyyy H:mm:ss' }}</td>
                  </tr>
                  <tr>
                    <th>Id commit</th>
                    <td>{{ projet()?.infoGit?.idCommit }}</td>
                  </tr>
                  <tr>
                    <th>Branche</th>
                    <td>{{ projet()?.infoGit?.branche }}</td>
                  </tr>
                  <tr>
                    <th>Message</th>
                    <td>{{ projet()?.infoGit?.message }}</td>
                  </tr>
                  </tbody>
                </table>

              }
            </td>
          </tr>
        }
      </tbody>
    </table>

  </div>
</div>
